<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>{{.Title}}</title>
	<link rel="stylesheet" href="/static/style.css">
	<script>
		function toggleEdit() {
			var form = document.getElementById('editForm');
			var link = document.getElementById('editLink');
			if (form.style.display === 'none' || form.style.display === '') {
				form.style.display = 'block';
				link.style.display = 'none';
			} else {
				form.style.display = 'none';
				link.style.display = 'block';
			}
		}
	</script>
</head>
<body>
	<h1>{{.Title}}</h1>
	<div class="nav-links" id="editLink">
		[<a href="javascript:void(0)" onclick="toggleEdit()">edit</a>] 
		[<a href="/">index</a>]
	</div>
	
	<div class="edit-form" id="editForm">
		<form action="/save/{{.Title}}" method="POST">
			<div><textarea name="body">{{printf "%s" .Body}}</textarea></div>
			<div>
				<input type="submit" value="Save">
				<button type="button" onclick="toggleEdit()">Cancel</button>
			</div>
		</form>
	</div>
	
	<div>{{processLinks .Body}}</div>
</body>
</html>